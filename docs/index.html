

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>annt &mdash; annt-python  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home" alt="Documentation Home"> annt-python
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">annt</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#example-1-load-annotated-images">Example 1. Load annotated images</a></li>
<li><a class="reference internal" href="#example-2-data-augumentation">Example 2. Data augumentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-annt.main">Documents</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">annt-python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>annt</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="annt">
<h1>annt<a class="headerlink" href="#annt" title="Permalink to this headline">¶</a></h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Various tools have been developed so far for object detection tasks.
However, there are no standard in annotation tools and formats and
developers still write their own json or xml parser of annotation files.
<a class="reference external" href="https://annt.ai/">annt</a> is an annotation tool that operates in the form of cloud services such as dropbox.
annt provides not only simple and comfortable annotation exprience, but also powerful library for loading annotated images.</p>
<p>This is a documentation for <a class="reference external" href="https://github.com/mikebird28/annt-python">python library</a>  which read images annotated with annt.
you can load annotated images in a simple way and focus on the essential AI development.
Also, this library has a basic build-in preprocessing functions. So you can save time to write extra code.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="example-1-load-annotated-images">
<h3>Example 1. Load annotated images<a class="headerlink" href="#example-1-load-annotated-images" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">annt</span>

<span class="c1"># annotations is list of annotation data</span>
<span class="n">annotations</span> <span class="o">=</span> <span class="n">annt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;~/Dropbox/app/project_name&#39;</span><span class="p">)</span>

<span class="c1"># Display ths information of each annotation file.</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">annotations</span><span class="p">:</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">image</span>  <span class="c1"># opencv2 image array</span>
<span class="n">boxes</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">boxes</span>  <span class="c1"># list of bounding boxes</span>

<span class="n">height</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">colors</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">shape</span>  <span class="c1"># you can</span>

<span class="k">for</span> <span class="n">box</span> <span class="ow">in</span> <span class="n">boxes</span><span class="p">:</span>
   <span class="c1"># Tag information (str)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;~ tag name : box.tag ~&#39;</span><span class="p">)</span>

   <span class="c1"># You can get coordination information of the box by two methods,</span>
   <span class="c1"># Left Top Style and Edge Style.</span>
   <span class="c1"># Coordination information based on left top of the box. (Left-Top Style)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;x : </span><span class="si">{box.x}</span><span class="s1">&#39;</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;y : </span><span class="si">{box.y}</span><span class="s1">&#39;</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;w : </span><span class="si">{box.w}</span><span class="s1">&#39;</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;h : </span><span class="si">{box.h}</span><span class="s1">&#39;</span><span class="p">)</span>

   <span class="c1"># Coordination information based on the distance from each edge of the image. (Edge Style)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;left : </span><span class="si">{box.left}</span><span class="s1">&#39;</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;right : </span><span class="si">{box.right}</span><span class="s1">&#39;</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;top : </span><span class="si">{box.top}</span><span class="s1">&#39;</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s1">&#39;bottom : </span><span class="si">{box.bottom}</span><span class="s1">&#39;</span><span class="p">)</span>

   <span class="c1"># If you change these coordination properties, all of them will recomputed.</span>
   <span class="n">box</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="mi">300</span>  <span class="c1"># This operation will also change box.right property.</span>
</pre></div>
</div>
</div>
<div class="section" id="example-2-data-augumentation">
<h3>Example 2. Data augumentation<a class="headerlink" href="#example-2-data-augumentation" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">annt</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="c1"># annotations is list of annotation data</span>
<span class="n">annotations</span> <span class="o">=</span> <span class="n">annt</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;./Dropbox/App/annt/test&#39;</span><span class="p">)</span>
<span class="n">sample_n</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># Number of samples from one image</span>

<span class="c1"># Display ths information of each annotation file.</span>
<span class="n">augumented</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">raw_a</span> <span class="ow">in</span> <span class="n">annotations</span><span class="p">:</span>
   <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">sample_n</span><span class="p">):</span>

      <span class="c1"># Rotate image</span>
      <span class="n">rot_deg</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">270</span><span class="p">,</span> <span class="mi">360</span><span class="p">])</span>
      <span class="n">a</span> <span class="o">=</span> <span class="n">raw_a</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">rot_deg</span><span class="p">)</span>

      <span class="c1"># Tilt image</span>
      <span class="n">tilt_deg</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
      <span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">tilt_deg</span><span class="p">)</span>

      <span class="c1"># Flip image</span>
      <span class="n">flip_x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
      <span class="n">flip_y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
      <span class="n">a</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">flip_x</span><span class="p">,</span> <span class="n">flip_y</span><span class="p">)</span>
      <span class="n">augumented</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># Show first augumented image.</span>
<span class="n">augumented</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-annt.main">
<span id="documents"></span><h2>Documents<a class="headerlink" href="#module-annt.main" title="Permalink to this headline">¶</a></h2>
<p>Core module of annt-python</p>
<p>This module provides functions related Boudning Box and Annotation information,
which are important for handling annotation information.</p>
<dl class="py class">
<dt id="annt.main.Annotation">
<em class="property">class </em><code class="sig-name descname">Annotation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">image</span></em>, <em class="sig-param"><span class="n">boxes</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#annt.main.Annotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Image and annotation information holder.</p>
<dl class="py attribute">
<dt id="annt.main.Annotation.filename">
<code class="sig-name descname">filename</code><em class="property">: str</em><a class="headerlink" href="#annt.main.Annotation.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>filename.</p>
</dd></dl>

<dl class="py attribute">
<dt id="annt.main.Annotation.image">
<code class="sig-name descname">image</code><em class="property">: np.ndarray</em><a class="headerlink" href="#annt.main.Annotation.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Image array in opencv2 format.</p>
</dd></dl>

<dl class="py attribute">
<dt id="annt.main.Annotation.boxes">
<code class="sig-name descname">boxes</code><em class="property">: list</em><a class="headerlink" href="#annt.main.Annotation.boxes" title="Permalink to this definition">¶</a></dt>
<dd><p>List of box.</p>
</dd></dl>

<dl class="py method">
<dt id="annt.main.Annotation.flip">
<code class="sig-name descname">flip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">flip_x</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">flip_y</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#annt.main.Annotation.flip" title="Permalink to this definition">¶</a></dt>
<dd><p>Flip image.
Thie method flip image by the axis given by argument.
This method is non-destructive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>flip_x</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether flip with x axis. Default True.</p></li>
<li><p><strong>flip_y</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether flip with y axis. Default True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rotated annotate object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Annotate</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="annt.main.Annotation.resize">
<code class="sig-name descname">resize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">width</span></em>, <em class="sig-param"><span class="n">height</span></em><span class="sig-paren">)</span><a class="headerlink" href="#annt.main.Annotation.resize" title="Permalink to this definition">¶</a></dt>
<dd><p>Resize image to the spcified size.
This method is non-destructive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<em>int</em>) – width</p></li>
<li><p><strong>height</strong> (<em>int</em>) – height</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Resized annotate object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Annotate</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="annt.main.Annotation.rotate">
<code class="sig-name descname">rotate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">angle</span></em><span class="sig-paren">)</span><a class="headerlink" href="#annt.main.Annotation.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate image at the specified angle.
Create copy of itself and rotate.
This method is non-destructive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>angle</strong> (<em>int</em>) – Rotate angle (degree).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Rotated annotate object.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Annotate</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="annt.main.Annotation.show">
<code class="sig-name descname">show</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_width</span><span class="o">=</span><span class="default_value">500</span></em>, <em class="sig-param"><span class="n">max_height</span><span class="o">=</span><span class="default_value">500</span></em><span class="sig-paren">)</span><a class="headerlink" href="#annt.main.Annotation.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Display image with annotation information.</p>
<p class="rubric">Notes</p>
<p>Press any key to close image window.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="annt.main.Box">
<em class="property">class </em><code class="sig-name descname">Box</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tag</span></em>, <em class="sig-param"><span class="n">iwidth</span></em>, <em class="sig-param"><span class="n">iheight</span></em>, <em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">w</span></em>, <em class="sig-param"><span class="n">h</span></em><span class="sig-paren">)</span><a class="headerlink" href="#annt.main.Box" title="Permalink to this definition">¶</a></dt>
<dd><p>Bounding box representation.</p>
<dl class="py attribute">
<dt id="annt.main.Box.tag">
<code class="sig-name descname">tag</code><em class="property">: str</em><a class="headerlink" href="#annt.main.Box.tag" title="Permalink to this definition">¶</a></dt>
<dd><p>tag of the box.</p>
</dd></dl>

<dl class="py attribute">
<dt id="annt.main.Box.x">
<code class="sig-name descname">x</code><em class="property">: float</em><a class="headerlink" href="#annt.main.Box.x" title="Permalink to this definition">¶</a></dt>
<dd><p>Upper-Left x coordination of the bounding box.</p>
</dd></dl>

<dl class="py attribute">
<dt id="annt.main.Box.y">
<code class="sig-name descname">y</code><em class="property">: float</em><a class="headerlink" href="#annt.main.Box.y" title="Permalink to this definition">¶</a></dt>
<dd><p>Upper-Left y coordination of the bounding box.</p>
</dd></dl>

<dl class="py attribute">
<dt id="annt.main.Box.w">
<code class="sig-name descname">w</code><em class="property">: float</em><a class="headerlink" href="#annt.main.Box.w" title="Permalink to this definition">¶</a></dt>
<dd><p>Width of the bounding box.</p>
</dd></dl>

<dl class="py attribute">
<dt id="annt.main.Box.h">
<code class="sig-name descname">h</code><em class="property">: float</em><a class="headerlink" href="#annt.main.Box.h" title="Permalink to this definition">¶</a></dt>
<dd><p>Height of the bounding box.</p>
</dd></dl>

<dl class="py attribute">
<dt id="annt.main.Box.top">
<code class="sig-name descname">top</code><em class="property">: float</em><a class="headerlink" href="#annt.main.Box.top" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from top.</p>
</dd></dl>

<dl class="py attribute">
<dt id="annt.main.Box.bottom">
<code class="sig-name descname">bottom</code><em class="property">: float</em><a class="headerlink" href="#annt.main.Box.bottom" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from bottom.</p>
</dd></dl>

<dl class="py attribute">
<dt id="annt.main.Box.left">
<code class="sig-name descname">left</code><em class="property">: float</em><a class="headerlink" href="#annt.main.Box.left" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from left.</p>
</dd></dl>

<dl class="py attribute">
<dt id="annt.main.Box.right">
<code class="sig-name descname">right</code><em class="property">: float</em><a class="headerlink" href="#annt.main.Box.right" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance from right.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="annt.main.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dir_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#annt.main.load" title="Permalink to this definition">¶</a></dt>
<dd><p>load annotation files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dir_path</strong> (<em>str</em>) – Annotation directory path.</p>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p><em>Annotation</em> – Loaded Annotation object.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Keisuke Miura

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>